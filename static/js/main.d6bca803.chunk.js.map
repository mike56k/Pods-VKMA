{"version":3,"sources":["panels/Persik.js","panels/First_page.js","panels/Second_page.js","panels/Sixth_page.js","panels/Last_page.js","panels/AudioEditor.js","App.js","index.js"],"names":["osName","platform","Persik","props","id","left","onClick","go","data-to","IOS","First_page","icon","header","action","size","Second_page","useState","isLoaded","setIsLoaded","centered","style","display","border","marginRight","padding","color","width","top","placeholder","mode","type","accept","onChange","e","files","target","console","log","loaded","JSON","stringify","localStorage","setItem","serialized","URL","createObjectURL","wide","separator","description","marginTop","Sixth_page","margin","right","height","before","after","fill","Last_page","AudioEditor","Sound","status","STOPPED","useEffect","audio","document","getElementById","src","parse","getItem","load","context","AudioContext","createMediaElementSource","analyser","createAnalyser","canvas","ctx","getContext","connect","destination","fftSize","bufferLength","frequencyBinCount","dataArray","Uint8Array","WIDTH","barHeight","HEIGHT","barWidth","x","renderFrame","requestAnimationFrame","getByteFrequencyData","fillStyle","fillRect","i","controls","url","playStatus","playFromPosition","App","activePanel","setActivePanel","setUser","a","bridge","send","user","subscribe","detail","data","schemeAttribute","createAttribute","value","scheme","body","attributes","setNamedItem","fetchData","page","ReactDOM","render"],"mappings":"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","file":"static/js/main.d6bca803.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { platform, IOS } from \"@vkontakte/vkui\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\n\nimport \"./Persik.css\";\n\nconst osName = platform();\n\nconst Persik = (props) => (\n  <Panel id={props.id}>\n    <PanelHeader\n      left={\n        <PanelHeaderButton onClick={props.go} data-to=\"home\">\n          {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n        </PanelHeaderButton>\n      }\n    >\n      Persik\n    </PanelHeader>\n  </Panel>\n);\n\nPersik.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n};\n\nexport default Persik;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport {\n  Placeholder,\n  Button,\n  Separator,\n  Div,\n  View,\n  PanelHeader,\n  PanelHeaderBack,\n} from \"@vkontakte/vkui\";\nimport Icon56AddCircleOutline from \"@vkontakte/icons/dist/56/add_circle_outline\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon56GalleryOutline from \"@vkontakte/icons/dist/56/gallery_outline\";\nimport { PanelHeaderButton } from \"@vkontakte/vkui\";\n\nconst First_page = ({ id, go }) => (\n  <Panel id={id}>\n    <View>\n      <Panel>\n        <PanelHeader>Подкасты</PanelHeader>\n        <Placeholder\n          icon={<Icon56AddCircleOutline />}\n          header=\"Добавьте первый подкаст\"\n          action={\n            <Button size=\"l\" onClick={() => go(\"second_page\")}>\n              Добавить подкаст\n            </Button>\n          }\n        >\n          Добавляйте, редактируйте и делитесь подкастами вашего сообщества\n        </Placeholder>\n      </Panel>\n    </View>\n    );\n  </Panel>\n);\nFirst_page.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n};\nexport default First_page;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { platform, IOS } from \"@vkontakte/vkui\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\nimport Icon28PictureOutline from \"@vkontakte/icons/dist/28/picture_outline\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport { File, Select } from \"@vkontakte/vkui\";\n\nimport {\n  Placeholder,\n  Button,\n  Separator,\n  Div,\n  View,\n  PanelHeader,\n  PanelHeaderButton,\n  Card,\n  Group,\n  Input,\n  Textarea,\n  FormLayout,\n  Checkbox,\n} from \"@vkontakte/vkui\";\nimport Icon56AddGalleryOutline from \"@vkontakte/icons/dist/56/gallery_outline\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon28UserOutline from \"@vkontakte/icons/dist/28/user_outline\";\nconst osName = platform();\n\nconst Second_page = ({ id, go }) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  const uploadPod = (e) => {\n    const files = e.target.files;\n    setIsLoaded(true);\n    console.log(isLoaded);\n    const loaded = JSON.stringify(isLoaded);\n    localStorage.setItem(\"isLoaded\", loaded);\n    const serialized = JSON.stringify(URL.createObjectURL(files[0]));\n    localStorage.setItem(\"audio\", serialized);\n  };\n\n  return (\n    <Panel id={id} centered={true}>\n      <View>\n        <Panel>\n          <PanelHeader\n            left={\n              <PanelHeaderButton onClick={() => go(\"first_page\")}>\n                {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n              </PanelHeaderButton>\n            }\n          >\n            Новый подкаст\n          </PanelHeader>\n          <Div>\n            <div style={{ display: \"flex\" }}>\n              <Card\n                //size=\"s\"\n                style={{\n                  border: \"0.5px solid rgba(0, 0, 0, 0.12)\",\n                  marginRight: \"auto\",\n                }}\n              >\n                <div style={{ padding: \"33px\" }}>\n                  {<Icon28PictureOutline style={{ color: \"#3F8AE0\" }} />}\n                </div>\n              </Card>\n\n              <FormLayout\n                style={{\n                  width: \"100%\",\n                }}\n              >\n                <Input top=\"Название\" placeholder=\"Введите название подкаста\" />\n              </FormLayout>\n            </div>\n\n            <FormLayout>\n              <Textarea top=\"Описание подкаста\" />\n            </FormLayout>\n          </Div>\n          {!isLoaded ? (\n            <Placeholder\n              header=\"Загрузите ваш подкаст\"\n              action={\n                <File\n                  type=\"file\"\n                  id=\"thefile\"\n                  accept=\"audio/*\"\n                  size=\"l\"\n                  mode=\"outline\"\n                  onChange={uploadPod}\n                >\n                  Загрузить файл{\" \"}\n                </File>\n              }\n            >\n              Выберите готовый аудиофайл из вашего телефона и добавьте его\n            </Placeholder>\n          ) : (\n            <Placeholder\n              header=\"Вы можете редактировать файл\"\n              action={\n                <Button mode=\"outline\" onClick={() => go(\"audioeditor\")}>\n                  Редактировать\n                </Button>\n              }\n            >\n              Вы можете добавить таймкоды и скорректировать подкаст в режиме\n              редактирования.\n            </Placeholder>\n          )}\n\n          <Separator wide />\n          <FormLayout>\n            <Checkbox>Ненормативный контент</Checkbox>\n            <Checkbox>Исключить эпизод из экспорта</Checkbox>\n            <Checkbox>Трейлер подкаста</Checkbox>\n          </FormLayout>\n          <Group\n            separator=\"hide\"\n            description=\"При публикации записи с эпизодом, он становится доступным для всех пользователей\"\n          >\n            <Select top=\"Кому доступен данный подкаст?\">\n              <option>Всем пользователям</option>\n              <option>Только друзьям</option>\n\n              <option>Только мне</option>\n            </Select>\n          </Group>\n\n          <Button\n            size=\"xl\"\n            onClick={() => go(\"last_page\")}\n            style={{ marginTop: 36 }}\n          >\n            Далее\n          </Button>\n        </Panel>\n      </View>\n    </Panel>\n  );\n};\nSecond_page.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n};\nexport default Second_page;\n","import React from \"react\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport {\n  Header,\n  SimpleCell,\n  Avatar,\n  View,\n  PanelHeader,\n  PanelHeaderButton,\n  g,\n  Search,\n} from \"@vkontakte/vkui\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon24MoreHorizontal from \"@vkontakte/icons/dist/24/more_horizontal\";\nimport ICon24AddOutline from \"@vkontakte/icons/dist/24/add_outline\";\n\nconst Sixth_page = ({ id, go }) => (\n  <Panel id={id}>\n    <View>\n      <Panel>\n        <PanelHeader\n          left={\n            <PanelHeaderButton onClick={() => go(\"audioeditor\")}>\n              {<Icon28ChevronBack style={{ margin: 12.6 }} />}\n            </PanelHeaderButton>\n          }\n          right={\n            <PanelHeaderButton onClick={() => go(\"second_page\")}>\n              {\n                <ICon24AddOutline\n                  width={20}\n                  height={20}\n                  style={{ margin: 18 }}\n                />\n              }\n            </PanelHeaderButton>\n          }\n        >\n          Выбрать музыку\n        </PanelHeader>\n        <Search />\n        <SimpleCell\n          before={<Avatar mode=\"image\" />}\n          description=\"Arctic Monkeys\"\n          after={<Icon24MoreHorizontal fill=\"var(--accent)\" />}\n        >\n          I Wanna Be Yours\n        </SimpleCell>\n        <SimpleCell\n          before={<Avatar mode=\"image\" />}\n          description=\"Лето (звери)\"\n          after={<Icon24MoreHorizontal fill=\"var(--accent)\" />}\n        >\n          6 утра\n        </SimpleCell>\n        <SimpleCell\n          before={<Avatar mode=\"image\" />}\n          description=\"Depeche Mode\"\n          after={<Icon24MoreHorizontal fill=\"var(--accent)\" />}\n        >\n          Enjoy the Silence\n        </SimpleCell>\n      </Panel>\n    </View>\n    );\n  </Panel>\n);\nexport default Sixth_page;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport {\n  Placeholder,\n  Button,\n  Separator,\n  Div,\n  View,\n  PanelHeader,\n  PanelHeaderBack,\n  PanelHeaderButton,\n  Card,\n  Group,\n  Cell,\n  CardGrid,\n  Input,\n  Textarea,\n  FormLayout,\n  FormStatus,\n  Checkbox,\n} from \"@vkontakte/vkui\";\nimport Icon56AddGalleryOutline from \"@vkontakte/icons/dist/56/gallery_outline\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon56CheckCircleOutline from \"@vkontakte/icons/dist/56/check_circle_outline\";\n\nconst Last_page = ({ id, go }) => (\n  <Panel id={id}>\n    <View>\n      <Panel>\n        <PanelHeader>Подкасты</PanelHeader>\n        <Placeholder\n          icon={<Icon56CheckCircleOutline style={{ marginTop: 203.67 }} />}\n          header=\"Поделиться подкастом\"\n          action={\n            <Button size=\"l\" onClick={() => go(\"second_page\")}>\n              Подкаст добавлен\n            </Button>\n          }\n        >\n          Раскажите своим подписчикам о новом подкасте, чтобы получить больше\n          слушателей.\n        </Placeholder>\n      </Panel>\n    </View>\n  </Panel>\n);\nexport default Last_page;\n","import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { platform, IOS } from \"@vkontakte/vkui\";\nimport Panel from \"@vkontakte/vkui/dist/components/Panel/Panel\";\nimport PanelHeader from \"@vkontakte/vkui/dist/components/PanelHeader/PanelHeader\";\nimport PanelHeaderButton from \"@vkontakte/vkui/dist/components/PanelHeaderButton/PanelHeaderButton\";\nimport Icon28ChevronBack from \"@vkontakte/icons/dist/28/chevron_back\";\nimport Icon24Back from \"@vkontakte/icons/dist/24/back\";\nimport { Group, CardGrid, Card } from \"@vkontakte/vkui\";\nimport \"react-h5-audio-player/lib/styles.css\";\nimport \"./AudioEditor.css\";\nimport Icon24Play from \"@vkontakte/icons/dist/24/play\";\nimport Icon24Pause from \"@vkontakte/icons/dist/24/pause\";\nimport { Button } from \"@vkontakte/vkui\";\nimport Sound from \"react-sound\";\nconst osName = platform();\n\nconst AudioEditor = ({ id, go }) => {\n  const [status, setStatus] = useState(Sound.status.STOPPED);\n\n  useEffect(() => {\n    var audio = document.getElementById(\"audio\");\n\n    audio.src = JSON.parse(localStorage.getItem(\"audio\"));\n    audio.load();\n    try {\n      var context = new AudioContext();\n      var src = context.createMediaElementSource(audio);\n\n      var analyser = context.createAnalyser();\n      var canvas = document.getElementById(\"canvas\");\n      var ctx = canvas.getContext(\"2d\");\n      src.connect(analyser);\n      analyser.connect(context.destination);\n\n      analyser.fftSize = 256;\n\n      var bufferLength = analyser.frequencyBinCount;\n\n      var dataArray = new Uint8Array(bufferLength);\n\n      var WIDTH = canvas.width;\n      console.log(WIDTH);\n      var HEIGHT = canvas.height;\n      var barWidth = 1;\n      var barHeight;\n      var x = 0;\n\n      function renderFrame() {\n        requestAnimationFrame(renderFrame);\n\n        x = 0;\n\n        analyser.getByteFrequencyData(dataArray);\n\n        ctx.fillStyle = \"#F2F3F5\";\n        ctx.fillRect(0, 0, WIDTH, HEIGHT);\n\n        for (var i = 0; i < bufferLength; i++) {\n          barHeight = dataArray[i] / 1.8;\n          ctx.fillStyle = \"#3F8AE0\";\n          ctx.fillRect(x, HEIGHT - barHeight, barWidth, barHeight);\n          x += barWidth + 3;\n        }\n      }\n\n      renderFrame();\n    } catch {}\n  });\n  return (\n    <Panel id={id}>\n      <PanelHeader\n        left={\n          <PanelHeaderButton onClick={() => go(\"second_page\")}>\n            {osName === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\n          </PanelHeaderButton>\n        }\n      >\n        Редактирование\n      </PanelHeader>\n\n      <Group separator=\"hide\">\n        <CardGrid>\n          <Card size=\"l\" mode=\"shadow\" id=\"card\">\n            <div id=\"content\">\n              <canvas\n                id=\"canvas\"\n                style={{ height: \"96px\", width: \"100%\" }}\n              ></canvas>\n              <audio id=\"audio\" controls></audio>\n              {/* <Button\n                size=\"l\"\n                onClick={() => {\n                  if (isPlaying) {\n                    setStatus(Sound.status.PAUSED);\n                    setIsPlaying(false);\n                  } else {\n                    setStatus(Sound.status.PLAYING);\n                    setIsPlaying(true);\n                  }\n                }}\n              >\n                {isPlaying ? <Icon24Pause /> : <Icon24Play />}\n              </Button> */}\n            </div>\n            <Sound\n              url=\"https://file-examples-com.github.io/uploads/2017/11/file_example_MP3_700KB.mp3\"\n              playStatus={status}\n              playFromPosition={300 /* in milliseconds */}\n              //   onLoading={this.handleSongLoading}\n              //   onPlaying={this.handleSongPlaying}\n              //   onFinishedPlaying={this.handleSongFinishedPlaying}\n            />\n          </Card>\n        </CardGrid>\n        <Button mode=\"outline\" size=\"xl\" onClick={() => go(\"sixth_page\")}>\n          Добавить фоновую музыку\n        </Button>{\" \"}\n      </Group>\n    </Panel>\n  );\n};\n\nAudioEditor.propTypes = {\n  id: PropTypes.string.isRequired,\n  go: PropTypes.func.isRequired,\n};\n\nexport default AudioEditor;\n","import React, { useState, useEffect } from \"react\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport View from \"@vkontakte/vkui/dist/components/View/View\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport Persik from \"./panels/Persik\";\nimport First_page from \"./panels/First_page\";\nimport Second_page from \"./panels/Second_page\";\nimport Sixth_page from \"./panels/Sixth_page\";\nimport Last_page from \"./panels/Last_page\";\nimport AudioEditor from \"./panels/AudioEditor\";\n\nconst App = () => {\n  const [activePanel, setActivePanel] = useState(\"first_page\");\n  const [fetchedUser, setUser] = useState(null);\n\n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    async function fetchData() {\n      const user = await bridge.send(\"VKWebAppGetUserInfo\");\n      setUser(user);\n    }\n    fetchData();\n  }, []);\n\n  const go = (page) => {\n    setActivePanel(page);\n  };\n\n  return (\n    <View activePanel={activePanel}>\n      <AudioEditor id=\"audioeditor\" go={go} />\n      <Persik id=\"persik\" go={go} />\n      <First_page id=\"first_page\" go={go} />\n      <Second_page id=\"second_page\" go={go} />\n      <Sixth_page id=\"sixth_page\" go={go} />\n      <Last_page id=\"last_page\" go={go} />\n    </View>\n  );\n};\n\nexport default App;\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}